Version 4
SHEET 1 1932 952
WIRE -2048 -848 -2144 -848
WIRE -1952 -848 -2048 -848
WIRE -1904 -848 -1952 -848
WIRE -1728 -848 -1824 -848
WIRE -1536 -848 -1728 -848
WIRE -1344 -848 -1536 -848
WIRE -816 -848 -1344 -848
WIRE -640 -848 -816 -848
WIRE -336 -848 -640 -848
WIRE -240 -848 -336 -848
WIRE 96 -848 -240 -848
WIRE -640 -816 -640 -848
WIRE -816 -800 -816 -848
WIRE -2144 -784 -2144 -848
WIRE -2048 -784 -2048 -848
WIRE -1728 -784 -1728 -848
WIRE -1536 -784 -1536 -848
WIRE -1344 -784 -1344 -848
WIRE -336 -784 -336 -848
WIRE -240 -784 -240 -848
WIRE 96 -752 96 -848
WIRE -2144 -688 -2144 -720
WIRE -2048 -688 -2048 -720
WIRE -816 -688 -816 -720
WIRE -640 -640 -640 -688
WIRE -640 -640 -752 -640
WIRE -560 -640 -640 -640
WIRE -336 -640 -336 -720
WIRE -336 -640 -464 -640
WIRE -240 -640 -240 -704
WIRE -240 -640 -336 -640
WIRE -1536 -608 -1536 -704
WIRE -1536 -608 -1600 -608
WIRE -1456 -608 -1536 -608
WIRE -640 -592 -640 -640
WIRE -1728 -560 -1728 -704
WIRE -1664 -560 -1728 -560
WIRE -1344 -560 -1344 -704
WIRE -1344 -560 -1392 -560
WIRE -240 -480 -240 -640
WIRE -640 -464 -640 -512
WIRE -640 -464 -864 -464
WIRE -512 -464 -512 -576
WIRE -512 -464 -640 -464
WIRE -1728 -400 -1728 -560
WIRE -1696 -400 -1728 -400
WIRE -1600 -400 -1600 -512
WIRE -1600 -400 -1632 -400
WIRE -512 -400 -1600 -400
WIRE -416 -400 -512 -400
WIRE -288 -400 -336 -400
WIRE -1344 -352 -1344 -560
WIRE -1344 -352 -1584 -352
WIRE -2400 -336 -2576 -336
WIRE -512 -336 -512 -400
WIRE -1728 -320 -1728 -400
WIRE -1584 -320 -1584 -352
WIRE -1952 -304 -1952 -848
WIRE -1456 -304 -1456 -512
WIRE -672 -304 -1456 -304
WIRE -1984 -288 -2096 -288
WIRE -1792 -272 -1920 -272
WIRE -1456 -272 -1520 -272
WIRE -1360 -272 -1456 -272
WIRE -2656 -256 -2880 -256
WIRE -2576 -256 -2576 -336
WIRE -2576 -256 -2656 -256
WIRE -2528 -256 -2576 -256
WIRE -2400 -256 -2400 -336
WIRE -2400 -256 -2464 -256
WIRE -2368 -256 -2400 -256
WIRE -2240 -256 -2288 -256
WIRE -1984 -256 -2240 -256
WIRE -672 -240 -672 -304
WIRE -1456 -224 -1456 -272
WIRE -1728 -192 -1728 -224
WIRE -1680 -192 -1728 -192
WIRE -1584 -192 -1584 -224
WIRE -1584 -192 -1616 -192
WIRE -512 -192 -512 -256
WIRE -512 -192 -608 -192
WIRE -240 -192 -240 -384
WIRE -240 -192 -512 -192
WIRE -160 -192 -240 -192
WIRE -80 -192 -160 -192
WIRE 96 -192 96 -672
WIRE 96 -192 0 -192
WIRE 256 -192 96 -192
WIRE -1728 -176 -1728 -192
WIRE -1584 -176 -1584 -192
WIRE -2880 -160 -2880 -256
WIRE -2656 -160 -2656 -256
WIRE -1264 -112 -1296 -112
WIRE -1120 -112 -1184 -112
WIRE -1040 -112 -1120 -112
WIRE -864 -112 -864 -464
WIRE -864 -112 -944 -112
WIRE -240 -112 -240 -192
WIRE -2400 -96 -2400 -256
WIRE -2096 -80 -2096 -288
WIRE -1904 -80 -2096 -80
WIRE -160 -80 -160 -192
WIRE -128 -80 -160 -80
WIRE -32 -80 -64 -80
WIRE 96 -80 96 -192
WIRE 96 -80 48 -80
WIRE 256 -80 256 -192
WIRE -2240 -64 -2240 -256
WIRE -1728 -64 -1728 -96
WIRE -1648 -64 -1728 -64
WIRE -1584 -64 -1584 -96
WIRE -1584 -64 -1648 -64
WIRE -1456 -64 -1456 -144
WIRE -2096 -48 -2096 -80
WIRE -1120 -48 -1120 -112
WIRE -1648 -32 -1648 -64
WIRE -672 -32 -672 -144
WIRE -480 -32 -672 -32
WIRE -432 -32 -480 -32
WIRE -288 -32 -352 -32
WIRE -1360 0 -1360 -272
WIRE -1296 16 -1296 -112
WIRE -1168 16 -1296 16
WIRE -992 16 -992 -48
WIRE -992 16 -1072 16
WIRE -960 16 -992 16
WIRE -864 16 -864 -112
WIRE -864 16 -880 16
WIRE -480 16 -480 -32
WIRE -2096 48 -2096 32
WIRE -2096 48 -2144 48
WIRE -1648 64 -1648 48
WIRE -656 64 -752 64
WIRE -560 64 -656 64
WIRE -1536 112 -1584 112
WIRE -1424 112 -1536 112
WIRE -1296 112 -1296 16
WIRE -1296 112 -1424 112
WIRE -656 112 -656 64
WIRE -560 112 -560 64
WIRE -2656 128 -2656 -80
WIRE -2656 128 -2880 128
WIRE -2400 128 -2400 -16
WIRE -2400 128 -2656 128
WIRE -2240 128 -2240 0
WIRE -2240 128 -2400 128
WIRE -2144 128 -2144 48
WIRE -2144 128 -2240 128
WIRE -2096 128 -2096 112
WIRE -2096 128 -2144 128
WIRE -1424 144 -1424 112
WIRE -816 160 -816 -592
WIRE -816 160 -1232 160
WIRE -752 160 -752 64
WIRE -752 160 -816 160
WIRE -720 160 -752 160
WIRE -2400 176 -2400 128
WIRE -2128 208 -2224 208
WIRE -2032 208 -2128 208
WIRE -560 208 -560 176
WIRE -560 208 -656 208
WIRE -480 208 -480 96
WIRE -480 208 -560 208
WIRE -368 208 -480 208
WIRE -240 208 -240 -16
WIRE -240 208 -368 208
WIRE 96 208 96 -80
WIRE -1648 224 -1648 160
WIRE -1536 224 -1536 112
WIRE -816 240 -816 160
WIRE -2224 256 -2224 208
WIRE -2128 256 -2128 208
WIRE -2032 256 -2032 208
WIRE -1424 256 -1424 208
WIRE -1296 256 -1296 208
WIRE -240 256 -240 208
WIRE -368 272 -368 208
WIRE -2128 368 -2128 320
WIRE -2032 368 -2032 320
WIRE -2032 368 -2128 368
WIRE -1952 368 -1952 -240
WIRE -1952 368 -2032 368
WIRE -1840 368 -1952 368
WIRE -1648 368 -1648 304
WIRE -1648 368 -1760 368
WIRE -1536 368 -1536 288
WIRE -1536 368 -1648 368
WIRE -1424 368 -1424 336
WIRE -1424 368 -1536 368
WIRE -1296 368 -1296 336
WIRE -1296 368 -1424 368
WIRE -816 368 -816 320
WIRE -816 368 -1296 368
WIRE -368 368 -368 336
WIRE -368 368 -816 368
WIRE -240 368 -240 336
WIRE -240 368 -368 368
WIRE 96 368 96 288
WIRE 96 368 -240 368
WIRE -1904 448 -1904 -80
WIRE -1808 448 -1904 448
WIRE -1696 448 -1728 448
WIRE -1600 448 -1696 448
WIRE -1520 448 -1600 448
WIRE -1360 448 -1360 64
WIRE -1360 448 -1440 448
WIRE -160 448 -160 -80
WIRE -160 448 -1360 448
WIRE -1904 528 -1904 448
WIRE -1856 528 -1904 528
WIRE -1696 528 -1696 448
WIRE -1696 528 -1792 528
FLAG 256 -80 0
FLAG -1456 -64 0
FLAG -160 -192 OUT
FLAG -1600 448 PROBE
FLAG -2400 176 0
FLAG -2048 -688 0
FLAG -2144 -688 0
FLAG -2224 256 0
SYMBOL res 16 -176 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName Speaker
SYMATTR Value 6
SYMBOL res -1664 64 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL npn -1520 -320 M0
WINDOW 0 -9 97 Left 2
WINDOW 3 57 28 Left 2
SYMATTR InstName Q1
SYMATTR Value KSC1845
SYMBOL npn -1792 -320 R0
WINDOW 0 -1 104 Left 2
WINDOW 3 63 61 Left 2
SYMATTR InstName Q2
SYMATTR Value KSC1845
SYMBOL res -1440 352 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 68
SYMBOL res -1312 352 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 68
SYMBOL cap -1440 208 M180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C1
SYMATTR Value 220n
SYMBOL res -832 336 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 5k6
SYMBOL pnp -1168 -48 M90
WINDOW 0 50 35 VRight 2
WINDOW 3 92 7 VRight 2
SYMATTR InstName Q5
SYMATTR Value KSA992
SYMBOL res -1472 -240 R0
SYMATTR InstName R9
SYMATTR Value 3k
SYMBOL cap -576 112 R0
SYMATTR InstName C3
SYMATTR Value 470p
SYMBOL res -256 352 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 1
SYMBOL res -1552 -688 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R12
SYMATTR Value 22
SYMBOL res -1360 -688 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R13
SYMATTR Value 1k2
SYMBOL res -256 -688 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R16
SYMATTR Value 0.5
SYMBOL pnp -752 -592 R180
WINDOW 0 -9 -12 Left 2
WINDOW 3 37 43 Left 2
SYMATTR InstName Q10
SYMATTR Value KSA992
SYMBOL res -832 -704 M180
WINDOW 0 -69 82 Left 2
WINDOW 3 -65 40 Left 2
SYMATTR InstName R17
SYMATTR Value 680
SYMBOL diode -624 -752 M0
WINDOW 0 37 -2 Left 2
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL res -496 112 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R20
SYMATTR Value 390
SYMBOL res -528 -240 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R21
SYMATTR Value 390
SYMBOL pnp -560 -576 R270
WINDOW 0 -13 119 VLeft 2
WINDOW 3 92 99 VLeft 2
SYMATTR InstName Q11
SYMATTR Value KSA992
SYMBOL schottky -320 -784 M0
WINDOW 0 55 9 Left 2
WINDOW 3 42 64 Left 2
SYMATTR InstName D7
SYMATTR Value MBR735
SYMBOL schottky -352 272 M0
SYMATTR InstName D6
SYMATTR Value MBR735
SYMBOL schottky -624 -816 M0
WINDOW 3 -102 29 Left 2
WINDOW 0 37 -2 Left 2
SYMATTR Value BAT54
SYMATTR InstName D9
SYMBOL res 64 -64 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R24
SYMATTR Value 5.6
SYMBOL cap -64 -64 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C6
SYMATTR Value 22n
SYMBOL diode -1552 224 R0
SYMATTR InstName D2
SYMATTR Value RED
SYMBOL res -1744 -688 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value 1k2
SYMBOL res -656 -496 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R25
SYMATTR Value 27
SYMBOL res -1632 320 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R15
SYMATTR Value 330
SYMBOL res -864 32 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 560
SYMBOL pnp -1040 -48 R270
WINDOW 0 -9 66 VRight 2
WINDOW 3 79 11 VRight 2
SYMATTR InstName Q12
SYMATTR Value KSA992
SYMBOL res -1168 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 200k
SYMBOL Misc\\battery 96 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 42
SYMBOL Misc\\battery 96 -768 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 42
SYMBOL Misc\\signal -1424 448 R90
WINDOW 123 -21 19 VLeft 2
WINDOW 3 24 104 Invisible 2
WINDOW 0 22 18 VLeft 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 0
SYMATTR Value 0
SYMATTR InstName Vi
SYMBOL cap -1792 544 M270
WINDOW 0 28 67 VTop 2
WINDOW 3 4 -7 VBottom 2
SYMATTR InstName C7
SYMATTR Value 18p
SYMBOL res -1712 464 M270
WINDOW 0 22 105 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R19
SYMATTR Value 27k
SYMBOL Misc\\signal -2656 -176 M0
WINDOW 123 24 132 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 -221 50 Left 2
SYMATTR Value2 AC 1
SYMATTR Value SINE(0 1.2 {F})
SYMATTR InstName V4
SYMBOL zener -2032 -720 R180
WINDOW 0 -24 67 Left 2
WINDOW 3 -49 147 Left 2
SYMATTR InstName D1
SYMATTR Value KDZ15B
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap -2160 -784 R0
SYMATTR InstName C9
SYMATTR Value 47µ
SYMBOL zener -2016 320 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -45 -80 Left 2
SYMATTR InstName D3
SYMATTR Value KDZ15B
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap -2144 256 R0
SYMATTR InstName C11
SYMATTR Value 47µ
SYMBOL cap -2464 -272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value 2µ2
SYMBOL Opamps\\LT1056A -1952 -336 R0
WINDOW 0 13 4 Left 2
WINDOW 3 -100 1 Left 2
SYMATTR InstName U1
SYMBOL res -2272 -272 R90
WINDOW 0 66 50 VBottom 2
WINDOW 3 -24 8 VTop 2
SYMATTR InstName R22
SYMATTR Value 390
SYMATTR SpiceLine pwr=1
SYMBOL res -1808 -864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 2k7
SYMATTR SpiceLine pwr=1
SYMBOL res -2080 48 R180
WINDOW 0 -60 64 Left 2
WINDOW 3 -60 26 Left 2
SYMATTR InstName R27
SYMATTR Value 1k
SYMATTR SpiceLine pwr=1
SYMBOL cap -2224 -64 M0
SYMATTR InstName C16
SYMATTR Value 330p
SYMBOL res -2384 0 R180
WINDOW 0 49 65 Left 2
WINDOW 3 47 26 Left 2
SYMATTR InstName R29
SYMATTR Value 27k
SYMATTR SpiceLine pwr=1
SYMBOL voltage -2880 -176 R0
WINDOW 3 -118 326 Left 0
SYMATTR Value PWL repeat forever(0 0 {tr} {vp} {0.5/F-tr} {vp} {0.5/F+tr} {-vp} {1/F-tr} {-vp} {1/F} 0)endrepeat
SYMATTR InstName V6
SYMBOL res -1744 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -28 -2 VTop 2
SYMATTR InstName R7
SYMATTR Value 2k7
SYMATTR SpiceLine pwr=1
SYMBOL cap -1344 64 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C10
SYMATTR Value 15p
SYMBOL cap -2112 48 R0
SYMATTR InstName C8
SYMATTR Value 470µ
SYMBOL nmos -288 -480 R0
WINDOW 0 0 -18 Left 2
SYMATTR InstName M1
SYMATTR Value IRFP240_
SYMBOL nmos -288 -112 R0
WINDOW 0 0 -18 Left 2
WINDOW 3 -10 130 Left 2
SYMATTR InstName M2
SYMATTR Value IRFP240_
SYMBOL res -320 -416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1µ
SYMBOL res -336 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1µ
SYMBOL res -1600 -192 R0
SYMATTR InstName R23
SYMATTR Value 150
SYMBOL res -1712 -192 M0
SYMATTR InstName R28
SYMATTR Value 150
SYMBOL cap -1616 -176 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value 47p
SYMBOL npn -1584 64 M0
WINDOW 0 -9 97 Left 2
WINDOW 3 51 50 Left 2
SYMATTR InstName Q9
SYMATTR Value KSC1845
SYMBOL npn -720 112 R0
WINDOW 0 44 49 Left 2
WINDOW 3 5 136 Left 2
SYMATTR InstName Q6
SYMATTR Value KSC1845
SYMBOL npn -1232 112 M0
WINDOW 0 -33 27 Left 2
WINDOW 3 -61 111 Left 2
SYMATTR InstName Q4
SYMATTR Value KSC1845
SYMBOL cap -1632 -384 M270
WINDOW 0 28 67 VTop 2
WINDOW 3 4 -7 VBottom 2
SYMATTR InstName C4
SYMATTR Value 10p
SYMBOL pnp -1664 -512 M180
WINDOW 0 2 103 Left 2
WINDOW 3 192 67 Right 2
SYMATTR InstName Q13
SYMATTR Value TTA004B
SYMBOL pnp -1392 -512 R180
WINDOW 0 2 103 Left 2
WINDOW 3 194 30 Right 2
SYMATTR InstName Q7
SYMATTR Value TTA004B
SYMBOL pnp -608 -144 R180
WINDOW 0 2 113 Left 2
WINDOW 3 173 44 Right 2
SYMATTR InstName Q3
SYMATTR Value TTA004B
TEXT -1288 -24 Left 2 ;1mA CCS
TEXT -2728 -632 Left 2 !.lib http://www.minek.com/lib/minek.lib
TEXT -2728 -672 Left 2 !.tran 0 6m 1m 100n
TEXT -2728 -712 Left 2 !.options plotwinsize=0
TEXT -2728 -752 Left 2 !.four {F} V(OUT)
TEXT -2728 -792 Left 2 !.param F=1k
TEXT -1592 512 Left 2 !;.ac dec 100 1 50meg
TEXT -3008 176 Left 2 !.param tr=1n vp=1
TEXT -3000 -80 Left 2 ;Squares
TEXT -216 -888 Left 2 ;PM: 77, GM: 8, SR: 55
